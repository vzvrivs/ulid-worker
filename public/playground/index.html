<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>ULID Playground</title>

    <!-- ThÃ¨me avant chargement du CSS -->
  <script>
    const saved = localStorage.getItem("ulid-theme");
    document.documentElement.setAttribute("data-theme", saved === "light" ? "light" : "dark");
  </script>

  <!-- time picker -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"/>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <!-- ton CSS -->
  <link rel="stylesheet" href="/style.css"/>
  <!-- enfin ton script principal -->
  <script src="/site.js" defer></script>

</head>
<body>

    <!-- â–‘â–‘â–‘ Navbar â–‘â–‘â–‘ -->
  <header class="ulid-navbar">
    <nav class="ulid-nav">
      <a href="/">ğŸ§ª ULID</a>
      <a href="/music">ğŸ¶ Music</a>
      <a href="/docs">ğŸ“š Docs</a>
      <a href="/help">ğŸ†˜ Aide</a>
      <a href="/matrix">ğŸ§¬ Matrix</a>
      <a href="/playground">ğŸ•¹ï¸ Playground</a>
      <a href="#" id="themeToggle" onclick="toggleDarkMode();return false;">ğŸŒ“ ThÃ¨me</a>
    </nav>
  </header>

  <main class="container">

    <h1>ğŸ›ï¸ ULID Playground</h1>
    <p>Bienvenue sur le labo interactif de gÃ©nÃ©ration et test d'ULID, propulsÃ© par Cloudflare Worker âœ¨</p>
    <p>Un ULID est un identifiant unique universel, qui est lexicographiquement sortable et basÃ© sur le temps. Il est souvent utilisÃ© dans les bases de donnÃ©es et les systÃ¨mes distribuÃ©s.</p>
    <p>Tu peux gÃ©nÃ©rer des ULID, les valider, et mÃªme remplir automatiquement des champs JSON avec des ULID. Amuse-toi bien !</p>

    <!-- â–‘â–‘â–‘ 1. GÃ©nÃ©rateur â–‘â–‘â–‘ -->
    <section class="component">
      <h2>ğŸ² GÃ©nÃ©rateur ULID</h2>
      <div class="row">

        <!-- BlocÂ 1 : EntrÃ©e -->
        <div>
          
          <!-- Nombre et format -->
          <div class="field-pair odd-bloc">
            <div class="form-group">
              <label for="gen-count">Nombre dâ€™ULIDÂ :</label>
              <input id="gen-count" type="number" value="5" min="1" max="1000">
            </div>
            <div class="form-group">
              <label for="gen-format">FormatÂ :</label>
              <select id="gen-format">
                <option value="json">JSON</option>
                <option value="csv">CSV</option>
                <option value="tsv">TSV</option>
                <option value="text">Text</option>
                <option value="joined">Joined</option>
              </select>
            </div>
          </div>

          <!-- PrÃ©fixe et suffixe -->
          <div class="field-pair even-bloc">
            <div class="form-group">
              <label for="gen-prefix">PrÃ©fixeÂ :</label>
              <input id="gen-prefix" placeholder="exÂ : prefix-">
            </div>
            <div class="form-group">
              <label for="gen-suffix">SuffixeÂ :</label>
              <input id="gen-suffix" placeholder="exÂ : -suffix">
            </div>
          </div>

          <!-- Base et binaire -->
          <div class="field-pair odd-bloc">
            <div class="form-group">
              <label for="gen-base">BaseÂ :</label>
              <select id="gen-base">
                <option value="crockford">Base32</option>
                <option value="hex">Hexa</option>
              </select>
            </div>
            <label class="checkbox-stack">
              <span>Inclure binaire</span>
              <input type="checkbox" id="gen-bin">
            </label>
          </div> 

          <!-- Timestamp commun -->
          <div class="field-pair even-bloc">
            <label class="checkbox-stack">
              <span>Timestamp commun</span>
              <input type="checkbox" id="gen-common-timestamp">
            </label>
          </div>

          <!-- Timestamp seed -->
          <div class="field-pair even-bloc">
            <div class="form-group">
              <label for="gen-ts-common">TimestampÂ communÂ :</label>
              <select id="gen-ts-common" disabled>
                <option value="now">Maintenant</option>
                <option value="custom">PersonnalisÃ©</option>
              </select>
            </div>
            <div class="form-group">
              <label for="ts-gen-custom">Date & heureÂ :</label>
              <input type="datetime-local" step="0.001" id="ts-gen-custom" class="flatpickr-fix" disabled>
            </div>
          </div>

          <!-- ULID monotone -->
          <div class="field-pair odd-bloc">
            <label class="checkbox-stack">
              <span>ULID monotones</span>
              <input type="checkbox" id="gen-monotonic-ulid">
            </label>
          </div>
          
          <!-- Bouton de gÃ©nÃ©ration -->
          <div class="controls-row">
            <button type="button" id="generate-btn" class="btn-action">
              <span class="btn-icon">ğŸ²</span>
              <span class="btn-label">GÃ©nÃ©rer</span>
            </button>
          </div>
        </div>



        <!-- Bloc 2 : Sortie -->
        <div>
          <label for="gen-output">ULID gÃ©nÃ©rÃ©sâ€¯:</label>
          <pre id="gen-output" class="code-block">// En attente</pre>
          <div class="action-container">
            <div class="action-pair">
              <button type="button" onclick="copyText('gen-output',event)">
                <span class="btn-icon">ğŸ“‹</span>
                <span class="btn-label">Copier</span>
              </button>
              <button type="button" id="clear-gen-output-btn">
                <span class="btn-icon">ğŸ§¹</span>
                <span class="btn-label">Effacer</span>
              </button>
            </div>
            <div class="action-pair">
              <label class="export-label">
                Exporter enâ€¯:
                <select id="gen-export-format">
                  <option value="json">JSON</option>
                  <option value="csv">CSV</option>
                  <option value="tsv">TSV</option>
                  <option value="text">Text</option>
                  <option value="joined">Joined</option>
                </select>
              </label>
              <button type="button" id="download-gen-btn">
                <span class="btn-icon">ğŸ’¾</span>
                <span class="btn-label">TÃ©lÃ©charger</span>
              </button>
            </div>
          </div>
        </div>

        <!-- Bloc 3 : RequÃªte -->
        <div class="span-full">
          <h3>ğŸ“ RequÃªte GET :</h3>
          <pre id="req-gen" class="code-block">// En attente</pre>
          <div class="controls-row">
            <button type="button" onclick="copyText('req-gen',event)">
              <span class="btn-icon">ğŸ“‹</span>
              <span class="btn-label">Copier</span>
            </button>
            <button type="button" id="clear-req-gen-btn">
              <span class="btn-icon">ğŸ§¹</span>
              <span class="btn-label">Effacer</span>
            </button>
          </div>
        </div>

      </div>
    </section>

    <!-- â–‘â–‘â–‘ 2. VÃ©rificateur ULID â–‘â–‘â–‘ -->
    <section class="component">
      <h2>ğŸ” VÃ©rificateur ULID</h2>
      <div class="row">

        <!-- Bloc 1 -->
        <div>
          <label for="check-input">ULID Ã  vÃ©rifierÂ :</label>
          <input id="check-input" type="text" placeholder="01JRâ€¦">
          <!-- champ + checkboxâ€¦ -->
          <div class="btn-row">
            <button type="button" id="paste-ulid-btn">
              <span class="btn-icon">ğŸ“¥</span>
              <span class="btn-label">Coller</span>
            </button>
            <button type="button" id="clear-ulid-btn">
              <span class="btn-icon">ğŸ§¼</span>
              <span class="btn-label">Effacer</span>
            </button>
            <button type="button" id="check-btn" class="btn-action">
              <span class="btn-icon">âœ…</span>
              <span class="btn-label">VÃ©rifier</span>
            </button>
          </div>
        </div>

        <!-- Bloc 2 -->
        <div>
          <label for="check-output">RÃ©sultatÂ :</label>
          <pre id="check-output" class="code-block">// En attente</pre>
          <div class="controls-row">
            <button type="button" onclick="copyText('check-output',event)">
              <span class="btn-icon">ğŸ“‹</span>
              <span class="btn-label">Copier</span>
            </button>
            <button type="button" id="clear-check-output-btn">
              <span class="btn-icon">ğŸ§¹</span>
              <span class="btn-label">Effacer</span>
            </button>
          </div>
        </div>

        <!-- Bloc 3 -->
        <div class="span-full">
          <h3>ğŸ“ RequÃªte GET :</h3>
          <pre id="req-check" class="code-block">// En attente</pre>
          <div class="controls-row">
            <button type="button" onclick="copyText('req-check',event)">
              <span class="btn-icon">ğŸ“‹</span>
              <span class="btn-label">Copier</span>
            </button>
            <button type="button" id="clear-req-check-btn">
              <span class="btn-icon">ğŸ§¹</span>
              <span class="btn-label">Effacer</span>
            </button>
          </div>
        </div>

      </div>
    </section>

    <!-- â–‘â–‘â–‘ 3. Autofill JSON â–‘â–‘â–‘ -->
    <section class="component">
      <h2>ğŸ§ª Autofill JSON</h2>
      <div class="row">

        <!-- Bloc 1 -->
        <div>
          <div class="form-group">
            <label for="json-input">EntrÃ©e JSONÂ :</label>
            <label class="inline-flex-center">
              <input type="checkbox" id="beautify-toggle"> Beautify
            </label>
          </div>
          <textarea id="json-input" rows="18" placeholder='{"key":null}'></textarea>
          <!-- AjoutÃ© pour lâ€™Ã©tat "JSON valide / invalide" -->
          <div id="json-validity"></div>
          <!-- textarea + validitÃ©â€¦ -->
          <div class="controls-row">
            <button type="button" id="paste-json-btn">
              <span class="btn-icon">ğŸ“¥</span>
              <span class="btn-label">Coller</span>
            </button>
            <button type="button" id="clear-json-btn">
              <span class="btn-icon">ğŸ§¼</span>
              <span class="btn-label">Effacer</span>
            </button>


            <!------------------------------------------------------------------------------------------------------------   -->>
            <!-- BlocÂ 1 : EntrÃ©e -->
            <div>
              
              <!-- Nombre et format -->
              <div class="field-pair odd-bloc">
                <div class="form-group">
                  <label for="autofill-count">Nombre dâ€™ULIDÂ :</label>
                  <input id="autofill-count" type="number" value="5" min="1" max="1000">
                </div>
                <div class="form-group">
                  <label for="autofill-format">FormatÂ :</label>
                  <select id="autofill-format">
                    <option value="json">JSON</option>
                    <option value="csv">CSV</option>
                    <option value="tsv">TSV</option>
                    <option value="text">Text</option>
                    <option value="joined">Joined</option>
                  </select>
                </div>
              </div>

              <!-- PrÃ©fixe et suffixe -->
              <div class="field-pair even-bloc">
                <div class="form-group">
                  <label for="autofill-prefix">PrÃ©fixeÂ :</label>
                  <input id="autofill-prefix" placeholder="exÂ : prefix-">
                </div>
                <div class="form-group">
                  <label for="autofill-suffix">SuffixeÂ :</label>
                  <input id="autofill-suffix" placeholder="exÂ : -suffix">
                </div>
              </div>

              <!-- Base et binaire -->
              <div class="field-pair odd-bloc">
                <div class="form-group">
                  <label for="autofill-base">BaseÂ :</label>
                  <select id="autofill-base">
                    <option value="crockford">Base32</option>
                    <option value="hex">Hexa</option>
                  </select>
                </div>
                <label class="checkbox-stack">
                  <span>Inclure binaire</span>
                  <input type="checkbox" id="autofill-bin">
                </label>
              </div> 

              <!-- Timestamp commun -->
              <div class="field-pair even-bloc">
                <label class="checkbox-stack">
                  <span>Timestamp commun</span>
                  <input type="checkbox" id="autofill-common-timestamp">
                </label>
              </div>

              <!-- Timestamp seed -->
              <div class="field-pair even-bloc">
                <div class="form-group">
                  <label for="autofill-ts-common">TimestampÂ communÂ :</label>
                  <select id="autofill-ts-common" disabled>
                    <option value="now">Maintenant</option>
                    <option value="custom">PersonnalisÃ©</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="ts-autofill-custom">Date & heureÂ :</label>
                  <input type="datetime-local" step="0.001" id="ts-autofill-custom" class="flatpickr-fix" disabled>
                </div>
              </div>

              <!-- ULID monotone -->
              <div class="field-pair odd-bloc">
                <label class="checkbox-stack">
                  <span>ULID monotones</span>
                  <input type="checkbox" id="autofill-monotonic-ulid">
                </label>
              </div>
              
              <!-- Bouton de remplissage -->
              <div class="controls-row">
                <button type="button" id="autofill-btn" class="btn-action">
                  <span class="btn-icon">ğŸ“</span>
                  <span class="btn-label">Remplir</span>
                </button>
              </div>
            </div>
          </div>
            <!--------------------------------------------------------------------------------------------------------------- -->

        <!-- Bloc 2 -->
        <div>
          <label for="json-output">Sortie JSONÂ :</label>
          <pre id="json-output" class="code-block">// En attente</pre>
          <div class="action-container">
            <div class="action-pair">
              <button type="button" onclick="copyText('json-output',event)">
                <span class="btn-icon">ğŸ“‹</span>
                <span class="btn-label">Copier</span>
              </button>
              <button type="button" id="clear-json-output-btn">
                <span class="btn-icon">ğŸ§¹</span>
                <span class="btn-label">Effacer</span>
              </button>
            </div>
            <div class="action-pair">
              <label class="export-label">Exporter enâ€¯:
                <select id="autofill-export-format">
                  <option value="json">JSON</option>
                  <option value="csv">CSV</option>
                  <option value="tsv">TSV</option>
                  <option value="text">Text</option>
                  <option value="joined">Joined</option>
                </select>
              </label>
              <button type="button" id="download-autofill-btn">
                <span class="btn-icon">ğŸ’¾</span>
                <span class="btn-label">TÃ©lÃ©charger</span>
              </button>
            </div>
          </div>
        </div>

        <!-- Bloc 3 -->
        <div class="span-full">
          <h3>ğŸ“¨ RequÃªte POST :</h3>
          <pre id="req-autofill-full" class="code-block">// En attente</pre>
          <div class="controls-row">
            <button type="button" onclick="copyText('req-autofill-full',event)">
              <span class="btn-icon">ğŸ“‹</span>
              <span class="btn-label">Copier</span>
            </button>
            <button type="button" id="clear-req-autofill-btn">
              <span class="btn-icon">ğŸ§¹</span>
              <span class="btn-label">Effacer</span>
            </button>
          </div>
        </div>

      </div>
    </section>

  </main>

  <footer>ULID Playground v1 â€¢ CodÃ© avec ğŸ’š par RaphaÃ«l</footer>
</body>
</html>
