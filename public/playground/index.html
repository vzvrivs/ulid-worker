<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>ULID Playground – Home</title>
  <link rel="stylesheet" href="/style.css"/>
</head>
<body data-theme="dark">

  <header class="ulid-navbar">
    <div class="ulid-navbar-container">
      <button class="burger-btn" aria-label="Menu">☰</button>
      <nav class="ulid-nav">
        <a href="/">🧪 ULID</a>
        <a href="/music">🎶 Music</a>
        <a href="/docs">📚 Docs</a>
        <a href="/help">🆘 Aide</a>
        <a href="/matrix">🧬 Matrix</a>
        <a href="/playground">🕹️ Playground</a>
        <a href="#" onclick="toggleDarkMode();return false;" id="themeToggle">🌓 Thème</a>
      </nav>
    </div>
  </header>

  <div class="content">
    <main class="container main-section">

      <!-- Présentation -->
      <section class="component">
        <h2 class="component-title"><span class="icon">🧪</span>ULID Playground</h2>
        <p>Bienvenue sur ton labo interactif de génération et test d’ULID, propulsé par Cloudflare Worker ✨</p>
      </section>

      <!-- Générateur ULID -->
      <section class="component">
        <h2 class="component-title"><span class="icon">🎲</span>Générateur ULID</h2>
        <div class="row">

          <!-- Formulaire -->
          <div>
            <div class="form-ulid">
              <div class="form-group">
                <label for="gen-count">Nombre d’ULID :</label>
                <input id="gen-count" type="number" value="5" min="1" max="1000" class="w-sm"/>
              </div>
              <div class="form-group">
                <label for="gen-format">Format d’affichage :</label>
                <select id="gen-format" class="w-full">
                  <option value="json">JSON</option>
                  <option value="csv">CSV</option>
                  <option value="tsv">TSV</option>
                  <option value="text">Text</option>
                  <option value="joined">Joined</option>
                </select>
              </div>

              <div class="form-group">
                <label for="gen-prefix">Préfixe :</label>
                <input id="gen-prefix" placeholder="ex : prefix-" class="w-full"/>
              </div>
              <div class="form-group">
                <label for="gen-suffix">Suffixe :</label>
                <input id="gen-suffix" placeholder="ex : -suffix" class="w-full"/>
              </div>

              <div class="form-group">
                <label for="gen-base">Base :</label>
                <select id="gen-base" class="w-full">
                  <option value="crockford">Base32 (Crockford)</option>
                  <option value="hex">Base16 (Hexa)</option>
                </select>
              </div>

              <div class="form-group inline-flex-center">
                <input type="checkbox" id="gen-bin"/>
                <label for="gen-bin">Inclure binaire (bin)</label>
              </div>
            </div>

            <div class="controls-row">
              <button id="generate-btn">Générer les ULID</button>
            </div>
          </div>

          <!-- Output Générateur -->
          <div>
            <label for="gen-output">ULID Générés :</label>
            <pre id="gen-output" class="code-block">// En attente</pre>
            <div class="controls-row">
              <button onclick="copyText('gen-output',event)">📋 Copier</button>
              <button id="clear-gen-output-btn">🧹 Effacer</button>
              <label for="gen-export-format">Exporter en :</label>
              <select id="gen-export-format" class="w-mid">
                <option value="json">JSON</option>
                <option value="csv">CSV</option>
                <option value="tsv">TSV</option>
                <option value="text">Text</option>
                <option value="joined">Joined</option>
              </select>
              <button id="download-gen-btn">💾 Télécharger</button>
            </div>
          </div>

          <!-- Requête Générateur -->
          <div class="span-full">
            <h3><span class="icon">📎</span>Requête GET de la génération d’ULID :</h3>
            <pre id="req-gen" class="code-block">// En attente</pre>
            <div class="controls-row">
              <button onclick="copyText('req-gen',event)">📋 Copier</button>
              <button id="clear-req-gen-btn">🧹 Effacer</button>
            </div>
          </div>
        </div>
      </section>

      <!-- Vérificateur ULID -->
      <section class="component">
        <h2 class="component-title"><span class="icon">🔍</span>Vérificateur ULID</h2>
        <div class="row">

          <!-- Form Vérificateur -->
          <div>
            <div class="form-group">
              <label for="check-input">ULID à vérifier :</label>
              <input id="check-input" type="text" placeholder="01JR..." class="w-full"/>
            </div>
            <div class="controls-row">
              <button id="paste-ulid-btn">📥 Coller</button>
              <button id="clear-ulid-btn">🧼 Effacer ULID</button>
              <button id="check-btn">Vérifier l’ULID</button>
            </div>
          </div>

          <!-- Output Vérificateur -->
          <div>
            <label for="check-output">Résultat de la vérification :</label>
            <pre id="check-output" class="code-block">// En attente</pre>
            <div class="controls-row">
              <button onclick="copyText('check-output',event)">📋 Copier</button>
              <button id="clear-check-output-btn">🧹 Effacer</button>
            </div>
          </div>

          <!-- Requête Vérificateur -->
          <div class="span-full">
            <h3><span class="icon">📎</span>Requête GET de la vérification ULID :</h3>
            <pre id="req-check" class="code-block">// En attente</pre>
            <div class="controls-row">
              <button onclick="copyText('req-check',event)">📋 Copier</button>
              <button id="clear-req-check-btn">🧹 Effacer</button>
            </div>
          </div>
        </div>
      </section>

      <!-- Autofill JSON -->
      <section class="component">
        <h2 class="component-title"><span class="icon">🧪</span>Autofill JSON</h2>
        <div class="row">

          <!-- Form Autofill -->
          <div>
            <div class="form-group">
              <label for="json-input">Entrée JSON :</label>
              <label class="inline-flex-center">
                <input type="checkbox" id="beautify-toggle"/> Beautify
              </label>
            </div>
            <textarea id="json-input" rows="21" class="w-full h-lg" placeholder='{"key":null}'></textarea>
            <div class="controls-row">
              <button id="paste-json-btn">📥 Coller</button>
              <button id="clear-json-btn">🧼 Effacer JSON</button>
              <button id="autofill-btn">Compléter les champs *_uid:null</button>
            </div>
          </div>

          <!-- Output Autofill -->
          <div>
            <label for="json-output">Sortie JSON Autofill :</label>
            <pre id="json-output" class="code-block">// En attente</pre>
            <div class="controls-row">
              <button onclick="copyText('json-output',event)">📋 Copier</button>
              <button id="clear-json-output-btn">🧹 Effacer</button>
              <label for="autofill-export-format">Exporter en :</label>
              <select id="autofill-export-format" class="w-mid">
                <option value="json">JSON</option>
                <option value="text">Text</option>
              </select>
              <button id="download-autofill-btn">💾 Télécharger</button>
            </div>
          </div>

          <!-- Requête Autofill -->
          <div class="span-full">
            <h3><span class="icon">📨</span>Requête POST Autofill JSON :</h3>
            <pre id="req-autofill-full" class="code-block">// En attente</pre>
            <div class="controls-row">
              <button onclick="copyText('req-autofill-full',event)">📋 Copier</button>
              <button id="clear-req-autofill-btn">🧹 Effacer</button>
            </div>
          </div>
        </div>
      </section>

    </main>

    <footer>
      ULID Playground v1 • Codé avec <span class="icon">💚</span> par Raphaël
    </footer>
  </div>

  <script src="/theme-manager.js"></script>
</body>
</html>
