<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>ULID Playground</title>

    <!-- ThÃ¨me avant chargement du CSS -->
  <script>
    const saved = localStorage.getItem("ulid-theme");
    document.documentElement.setAttribute("data-theme", saved === "light" ? "light" : "dark");
  </script>

  <!-- ton CSS -->
  <link rel="stylesheet" href="/style.css"/>
  
  <!-- enfin ton script principal -->
  <script type="module" src="/site.js"></script> 

</head>
<body>

    <!-- â–‘â–‘â–‘ Navbar â–‘â–‘â–‘ -->
  <header class="ulid-navbar">
    <nav class="ulid-nav">
      <a href="/">ğŸ§ª ULID</a>
      <a href="/music">ğŸ¶ Music</a>
      <a href="/docs">ğŸ“š Docs</a>
      <a href="/help">ğŸ†˜ Aide</a>
      <a href="/matrix">ğŸ§¬ Matrix</a>
      <a href="/playground">ğŸ•¹ï¸ Playground</a>
      <a href="#" id="themeToggle" onclick="toggleDarkMode();return false;">ğŸŒ“ ThÃ¨me</a>
    </nav>
  </header>

  <main class="container">

    <h1>ğŸ›ï¸ ULID Playground</h1>
    <p>Testez, expÃ©rimentez et manipulez vos ULID en temps rÃ©el.</p>
    <p>GÃ©nÃ©rez des ULID triables, remplissez vos structures JSON, validez leur conformitÃ©.</p>
    <p>Tout ce que vous voyez ici est aussi disponible via API.</p>

    <!-- â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ -->
    <!-- â–‘â–‘â–‘ 1. GÃ©nÃ©rateur â–‘â–‘â–‘ -->
    <!-- â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ -->
    <section class="component">
      <h2>ğŸ² GÃ©nÃ©rateur ULID</h2>
      <div class="row">

        <!-- BlocÂ 1.1 : GÃ©nÃ©rateur Params -->
        <div>

          <!-- 1.1 Nombre et format -->
          <div class="field-pair odd-bloc">
            <div>
              <label for="gen-count">Nombre dâ€™ULIDÂ :</label>
              <input id="gen-count" type="number" value="5" min="1" max="1000">
            </div>
            <div>
              <label for="gen-format">GÃ©nÃ©rer duÂ :</label>
              <select id="gen-format">
                <option value="json">JSON</option>
                <option value="csv">CSV</option>
                <option value="tsv">TSV</option>
                <option value="text">Text</option>
                <option value="joined">Joined</option>
              </select>
            </div>
          </div>

          <!-- 1.1 ClÃ©s Ã  gÃ©nÃ©rer -->
          <div id="gen-keys">

            <label for="gen-keys" class="sortable-list even-bloc">

              <span class="span-list-title">ClÃ©s Ã  gÃ©nÃ©rer</span>

              <div class="list-item">
                <div class="left-group">
                  <input type="checkbox" id="gen-key-unix" checked>
                  <label for="gen-key-unix">t (UNIX)</label>
                </div>
                <div class="move-controls">
                  <button type="button" class="up-btn">â–²</button>
                  <button type="button" class="down-btn">â–¼</button>
                </div>
              </div>

              <div class="list-item">
                <div class="left-group">
                  <input type="checkbox" id="gen-key-iso" checked>
                  <label for="gen-key-iso">ts (ISO 8601)</label>
                </div>
                <div class="move-controls">
                  <button type="button" class="up-btn">â–²</button>
                  <button type="button" class="down-btn">â–¼</button>
                </div>
              </div>
              
              <div class="list-item">
                <div class="left-group">
                  <input type="checkbox" id="gen-key-ulid" checked>
                  <label for="gen-key-ulid">ulid (Base32/Hexa - Bin)</label>
                </div>
                <div class="move-controls">
                  <button type="button" class="up-btn">â–²</button>
                  <button type="button" class="down-btn">â–¼</button>
                </div>
              </div>

            </label>

          </div>

          <!-- 1.1 Base et binaire -->
          <div class="field-pair odd-bloc">
            <div>
              <label for="gen-base">BaseÂ :</label>
              <select id="gen-base">
                <option value="crockford">Base32 (Crockford)</option>
                <option value="hex">Hexa</option>
              </select>
            </div>
            <label for="gen-bin" class="checkbox-stack">
              <span>Inclure binaire</span>
              <input type="checkbox" id="gen-bin">
            </label>
          </div>

          <!-- 1.1 Timestamp commun -->
          <div>
            <label for="gen-ts-common-selectbox" class="checkbox-stack even-bloc">
              <span>Timestamp commun</span>
              <div id="gen-ts-common-selectbox" class="ts-select">
                <div class="option selected" data-value="no">Non</div>
                <div class="option" data-value="now">Maintenant</div>
                <div class="option" data-value="custom">PersonnalisÃ©</div>
              </div>
            </label>
          </div>

          <!-- 1.1 Type + valeur du timestamp custom -->
          <div class="ts-radio-group odd-bloc">
            <label class="ts-radio-line">
              <input type="radio" id="gen-ts-type-unix" name="ts-type" value="unix">
              <span class="label">UNIX (ms)</span>
              <input id="gen-ts-input-unix" class="ts-input" placeholder="299575380000" readonly>
              <span id="gen-ts-valid-unix" class="ts-valid"></span>
            </label>
            <label class="ts-radio-line">
              <input type="radio" id="gen-ts-type-iso" name="ts-type" value="iso" checked>
              <span class="label">ISO 8601</span>
              <input id="gen-ts-input-iso" class="ts-input" placeholder="1979-06-30T07:23:00.000Z" readonly>
              <span id="gen-ts-valid-iso" class="ts-valid"></span>
            </label>
            <label class="ts-radio-line">
              <input type="radio" id="gen-ts-type-crock" name="ts-type" value="crock">
              <span class="label">Crockford</span>
              <input id="gen-ts-input-crock" class="ts-input" placeholder="01HZY9AJ4Z" readonly>
              <span id="gen-ts-valid-crock" class="ts-valid"></span>
            </label>
          </div>
          
          <!-- 1.1 Bouton Â« Maintenant Â» + date humanisÃ©e -->
          <div class="even-bloc">
            <button type="button" id="gen-ts-now-btn" class="maintenant-btn" aria-label="Remplir avec la date et l'heure actuelle">â²ï¸ Maintenant</button>
            <pre id="gen-ts-preview" class="code-block ts-preview">
              ğŸ“† DateÂ : â€”
            </pre>
          </div>

          <!-- 1.1 ULID monotone -->
          <div class="field-pair odd-bloc">
            <label for="gen-monotonic-ulid" class="checkbox-stack">
              <span>ULID monotones</span>
              <input type="checkbox" id="gen-monotonic-ulid">
            </label>
          </div>
          
        </div>

        <!-- Bloc 2 : GÃ©nÃ©rateur Sortie -->
        <div>

          <!-- 1.2 Bouton de gÃ©nÃ©ration -->
          <div class="controls-row">
            <button type="button" id="generate-btn" class="btn-action" aria-label="GÃ©nÃ©rer des ULID">
              <span class="btn-icon">ğŸ²</span>
              <span class="btn-label">GÃ©nÃ©rer</span>
            </button>
          </div>

          <!-- 1.2 Bloc de sortie -->
          <div class="even-bloc">
            <label for="gen-output">ULID gÃ©nÃ©rÃ©sâ€¯:</label>
            <pre id="gen-output" class="code-block-out-gen">// En attente</pre>

            <div class="action-container">
              <div class="action-pair">
                <button data-action="copy" data-target="gen-output" type="button" aria-label="Copier les ULID gÃ©nÃ©rÃ©s">
                  <span class="btn-icon">ğŸ“‹</span>
                  <span class="btn-label">Copier</span>
                </button>
                <button data-action="clear" data-target="gen-output" type="button" aria-label="Effacer les ULID gÃ©nÃ©rÃ©s">
                  <span class="btn-icon">ğŸ§¹</span>
                  <span class="btn-label">Effacer</span>
                </button>
              </div>

              <div class="action-pair">
                <button type="button" id="beautify-gen-output-btn">
                  <span class="btn-icon">ğŸ–¼ï¸</span>
                  <span class="btn-label">Beautify</span>
                </button>
                <button type="button" id="minify-gen-output-btn">
                  <span class="btn-icon">ğŸ—œï¸</span>
                  <span class="btn-label">Minify</span>
                </button>
              </div>
            </div>
            <div class="btn-row">
              <div class="action-pair">
                <label class="export-label">
                  Exporter enâ€¯:
                  <select id="gen-export-format">
                    <option value="json">JSON</option>
                    <option value="csv">CSV</option>
                    <option value="tsv">TSV</option>
                    <option value="text">Text</option>
                    <option value="joined">Joined</option>
                  </select>
                </label>
                <button data-action="download" data-target="gen-output" data-format-id="gen-export-format" type="button" aria-label="TÃ©lÃ©charger les ULID gÃ©nÃ©rÃ©s">
                  <span class="btn-icon">ğŸ’¾</span>
                  <span class="btn-label">TÃ©lÃ©charger</span>
                </button>
              </div>
            </div>
          </div>

        </div>

        <!-- Bloc 3 : GÃ©nÃ©rateur RequÃªte -->
        <div class="span-full even-bloc">
          <h3>ğŸ“¨ RequÃªte de gÃ©nÃ©rationÂ :</h3>
          <pre id="req-gen" class="code-block">// En attente</pre>

          <div class="controls-row">
            <button data-action="copy" data-target="req-gen" type="button" aria-label="Copier la requÃªte de gÃ©nÃ©ration">
              <span class="btn-icon">ğŸ“‹</span>
              <span class="btn-label">Copier</span>
            </button>            
            <button data-action="clear" data-target="req-gen" type="button" aria-label="Effacer la requÃªte de gÃ©nÃ©ration">
              <span class="btn-icon">ğŸ§¹</span>
              <span class="btn-label">Effacer</span>
            </button>
          </div>
        </div>

      </div>
    </section>


    <!-- â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ -->
    <!-- â–‘â–‘â–‘ 2. Autofill JSON â–‘â–‘â–‘ -->
    <!-- â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ -->
    <section class="component">
      <h2>ğŸ§ª Autofill JSON</h2>
      <div class="row">

        <!-- Bloc 1 : Autofill EntrÃ©e + Params -->
        <div>

          <div class="form-group even-bloc">
            <label for="json-input">EntrÃ©e JSONÂ :</label>
           
            <!-- 2.1 Textarea Input JSON-->
            <textarea id="json-input" rows="8" placeholder='{"key_uid":null}'></textarea>

            <div id="json-validity" class="mini-text"></div> <!-- L'indicateur de validitÃ© JSON -->
            
            <div class="action-container">
              <div class="action-pair">
                <button type="button" id="paste-json-btn" aria-label="Coller le JSON Ã  remplir">
                  <span class="btn-icon">ğŸ“¥</span>
                  <span class="btn-label">Coller</span>
                </button>
                <button data-action="clear" data-target="json-input" type="button" aria-label="Effacer le JSON Ã  remplir">
                  <span class="btn-icon">ğŸ§¼</span>
                  <span class="btn-label">Effacer</span>
                </button>
              </div>

              <!-- 2.1 Beautify / Minify -->            
              <div class="action-pair">
                <button type="button" id="beautify-autofill-input-btn">
                  <span class="btn-icon">ğŸ–¼ï¸</span>
                  <span class="btn-label">Beautify</span>
                </button>
                <button type="button" id="minify-autofill-input-btn">
                  <span class="btn-icon">ğŸ—œï¸</span>
                  <span class="btn-label">Minify</span>
                </button>
              </div>
            </div>

          </div>

          <!-- 2.1 ClÃ© et valeur -->
            <div class="field-pair odd-bloc">
              <div>
                <label for="autofill-key">ClÃ© terminant parÂ :</label>
                <input id="autofill-key" value="_uid" placeholder="_uid | ...">
              </div>
              <div>
                <label for="autofill-value">Valeur Ã  remplacerÂ :</label>
                <input id="autofill-value" value="null" placeholder="null | ... | *">
              </div>
            </div>


          <!-- 2.1 ClÃ©s Ã  insÃ©rer -->
          <div id="autofill-keys">

            <label for="autofill-keys" class="sortable-list even-bloc">

              <span class="span-list-title">ClÃ©s Ã  insÃ©rer</span>

              <div class="list-item">
                <div class="left-group">
                  <input type="checkbox" id="autofill-key-unix" checked>
                  <label for="autofill-key-unix">t (UNIX)</label>
                </div>
                <div class="move-controls">
                  <button type="button" class="up-btn">â–²</button>
                  <button type="button" class="down-btn">â–¼</button>
                </div>
              </div>

              <div class="list-item">
                <div class="left-group">
                  <input type="checkbox" id="autofill-key-iso" checked>
                  <label for="autofill-key-iso">ts (ISO 8601)</label>
                </div>
                <div class="move-controls">
                  <button type="button" class="up-btn">â–²</button>
                  <button type="button" class="down-btn">â–¼</button>
                </div>
              </div>
              
              <div class="list-item">
                <div class="left-group">
                  <input type="checkbox" id="autofill-key-ulid" checked>
                  <label for="autofill-key-ulid">ulid (Base32/Hexa - Bin)</label>
                </div>
                <div class="move-controls">
                  <button type="button" class="up-btn">â–²</button>
                  <button type="button" class="down-btn">â–¼</button>
                </div>
              </div>

            </label>

          </div>

          <!-- 2.1 Base et binaire -->
          <div class="field-pair odd-bloc">
            <div>
              <label for="autofill-base">BaseÂ :</label>
              <select id="autofill-base">
                <option value="crockford">Base32 (Crockford)</option>
                <option value="hex">Hexa</option>
              </select>
            </div>
            <label for="autofill-bin" class="checkbox-stack">
              <span>Inclure binaire</span>
              <input type="checkbox" id="autofill-bin">
            </label>
          </div>

          <!-- 2.1 Timestamp commun -->
          <div>
            <label for="autofill-ts-common-selectbox" class="checkbox-stack even-bloc">
              <span>Timestamp commun</span>
              <div id="autofill-ts-common-selectbox" class="ts-select">
                <div class="option selected" data-value="no">Non</div>
                <div class="option" data-value="now">Maintenant</div>
                <div class="option" data-value="custom">PersonnalisÃ©</div>
              </div>
            </label>
          </div>

          <!-- 2.1 Type + valeur du timestamp custom -->
          <div class="ts-radio-group odd-bloc">
            <label class="ts-radio-line">
              <input type="radio" id="autofill-ts-type-unix" name="autofill-ts-type" value="unix">
              <span class="label">UNIX (ms)</span>
              <input id="autofill-ts-input-unix" class="ts-input" placeholder="299575380000" readonly>
              <span id="autofill-ts-valid-unix" class="ts-valid"></span>
            </label>
            <label class="ts-radio-line">
              <input type="radio" id="autofill-ts-type-iso" name="autofill-ts-type" value="iso" checked>
              <span class="label">ISO 8601</span>
              <input id="autofill-ts-input-iso" class="ts-input" placeholder="1979-06-30T07:23:00.000Z" readonly>
              <span id="autofill-ts-valid-iso" class="ts-valid"></span>
            </label>
            <label class="ts-radio-line">
              <input type="radio" id="autofill-ts-type-crock" name="autofill-ts-type" value="crock">
              <span class="label">Crockford</span>
              <input id="autofill-ts-input-crock" class="ts-input" placeholder="01HZY9AJ4Z" readonly>
              <span id="autofill-ts-valid-crock" class="ts-valid"></span>
            </label>
          </div>

          <!-- 2.1 Bouton Â« Maintenant Â» + date humanisÃ©e -->
          <div class="even-bloc">
            <button type="button" id="autofill-ts-now-btn" class="maintenant-btn" aria-label="Remplir avec la date et l'heure actuelle">â²ï¸ Maintenant</button>
            <pre id="autofill-ts-preview" class="code-block">
              ğŸ“† DateÂ : â€”
            </pre>
          </div>

          <!-- 2.1 ULID monotone -->
          <div class="field-pair odd-bloc">
            <label for="autofill-gen-monotonic-ulid" class="checkbox-stack">
              <span>ULID monotones</span>
              <input type="checkbox" id="autofill-gen-monotonic-ulid">
            </label>
          </div>

        </div>

        <!-- Bloc 2 : Autofill Sortie -->
        <div>
          <!-- 2.2 Bouton "Remplir" -->
          <div class="controls-row">
            <button type="button" id="autofill-btn" class="btn-action" aria-label="Remplir le JSON avec des ULID">
              <span class="btn-icon">ğŸ“</span>
              <span class="btn-label">Remplir</span>
            </button>
          </div>

          <!-- 2.2 Bloc de sortie -->
          <div class="even-bloc">
            <label for="json-output">Sortie JSONÂ :</label>

            <!-- 2.1 Pre Output JSON-->
            <pre id="json-output" class="code-block-out-autofill">// En attente</pre>

            <div id="autofill-count" class="mini-text"></div> <!-- Le compteur de remplacements -->

            <div class="action-container">
              <div class="action-pair">
                <button data-action="copy" data-target="json-output" type="button" aria-label="Copier le JSON gÃ©nÃ©rÃ©">
                  <span class="btn-icon">ğŸ“‹</span>
                  <span class="btn-label">Copier</span>
                </button>
                <button data-action="clear" data-target="json-output" type="button" aria-label="Effacer le JSON gÃ©nÃ©rÃ©">
                  <span class="btn-icon">ğŸ§¹</span>
                  <span class="btn-label">Effacer</span>
                </button>
              </div>

              <div class="action-pair">
                <button type="button" id="beautify-autofill-output-btn">
                  <span class="btn-icon">ğŸ–¼ï¸</span>
                  <span class="btn-label">Beautify</span>
                </button>
                <button type="button" id="minify-autofill-output-btn">
                  <span class="btn-icon">ğŸ—œï¸</span>
                  <span class="btn-label">Minify</span>
                </button>
              </div>
            </div>
            <div class="btn-row">
              <div class="action-pair">
                <button data-action="download" data-target="json-output" type="button" aria-label="TÃ©lÃ©charger le JSON gÃ©nÃ©rÃ©">
                  <span class="btn-icon">ğŸ’¾</span>
                  <span class="btn-label">TÃ©lÃ©charger</span>
                </button>
              </div>
            </div>

          </div>

        </div>

        <!-- Bloc 3 : Autofill requÃªte -->
        <div class="span-full even-bloc">
          <h3>ğŸ“¨ RequÃªte d'autofillÂ :</h3>
          <pre id="req-autofill-full" class="code-block-req-autofill">// En attente</pre>
          <div class="controls-row">
            <button data-action="copy" data-target="req-autofill-full" type="button" aria-label="Copier la requÃªte d'autofill">
              <span class="btn-icon">ğŸ“‹</span>
              <span class="btn-label">Copier</span>
            </button>
            <button data-action="clear" data-target="req-autofill-full" type="button" aria-label="Effacer la requÃªte d'autofill">
              <span class="btn-icon">ğŸ§¹</span>
              <span class="btn-label">Effacer</span>
            </button>
          </div>
        </div>

      </div>
    </section>


    <!-- â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ -->
    <!-- â–‘â–‘â–‘ 3. VÃ©rificateur ULID â–‘â–‘â–‘ -->
    <!-- â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ -->
    <section class="component">
      <h2>ğŸ” VÃ©rificateur ULID</h2>
      <div class="row">

          <!-- Bloc 1 : VÃ©rificateur EntrÃ©e -->
          <div>
            <div id="check-params" class="odd-bloc">
              <div class="field-pair">
                <div>
                  <label for="check-input">ULID Ã  vÃ©rifierÂ :</label>
                  <input id="check-input" type="text" placeholder="01JRâ€¦">
                </div>
              </div>
              <div class="btn-row">
                <button type="button" id="paste-ulid-btn" aria-label="Coller un ULID">
                  <span class="btn-icon">ğŸ“¥</span>
                  <span class="btn-label">Coller</span>
                </button>
                <button data-action="clear" data-target="check-input" type="button" aria-label="Effacer l'ULID saisi">
                  <span class="btn-icon">ğŸ§¼</span>
                  <span class="btn-label">Effacer</span>
                </button>
                <button type="button" id="check-btn" class="btn-action" aria-label="VÃ©rifier l'ULID saisi">
                  <span class="btn-icon">âœ…</span>
                  <span class="btn-label">VÃ©rifier</span>
                </button>
              </div>
            </div>
          </div>

          <!-- Bloc 2 : VÃ©rificateur Sortie -->
          <div>
            <div class="even-bloc">
              <label for="check-output">RÃ©sultatÂ :</label>
              <pre id="check-output" class="code-block">// En attente</pre>
              <div class="btn-row">
                <button data-action="copy" data-target="check-output" type="button" aria-label="Copier les rÃ©sultats de vÃ©rification">
                  <span class="btn-icon">ğŸ“‹</span>
                  <span class="btn-label">Copier</span>
                </button>
                <button data-action="clear" data-target="check-output" type="button" aria-label="Effacer les rÃ©sultats de vÃ©rification">
                  <span class="btn-icon">ğŸ§¹</span>
                  <span class="btn-label">Effacer</span>
                </button>
              </div>
              <pre id="check-ts-preview" class="code-block">ğŸ“† DateÂ : â€”</pre>
            </div>
          </div>

          <!-- Bloc 3 : VÃ©rificateur RequÃªte -->
          <div class="span-full even-bloc">
            <h3>ğŸ“¨ RequÃªte de vÃ©rificationÂ :</h3>
            <pre id="req-check" class="code-block">// En attente</pre>
            <div class="controls-row">
              <button data-action="copy" data-target="req-check" type="button" aria-label="Copier la requÃªte de vÃ©rification">
                <span class="btn-icon">ğŸ“‹</span>
                <span class="btn-label">Copier</span>
              </button>
              <button data-action="clear" data-target="req-check" type="button" aria-label="Effacer la requÃªte de vÃ©rification">
                <span class="btn-icon">ğŸ§¹</span>
                <span class="btn-label">Effacer</span>
              </button>
            </div>
          </div>

      </div>
    </section>
  </main>

  <footer>ULID Playground v1 â€¢ CodÃ© avec ğŸ’š et ğŸ¤– par RaphaÃ«l â€¢ Licence MIT</footer>
</body>
</html>
